{
  "name": "Intent Detection API",
  "nodes": [
    {
      "parameters": {
        "path": "intent",
        "httpMethod": "POST"
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "model": "gpt-3.5-turbo",
        "messages": {
          "systemMessage": "You are a sales assistant. Classify the user's message as either 'SALES' or 'SUPPORT' intent. Respond with a JSON object containing: {'reply': 'your response', 'intent': 'SALES|SUPPORT', 'confidence': 0.0-1.0}",
          "userMessage": "={{ $('Webhook').item.json.message }}"
        }
      },
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [450, 300]
    },
    {
      "parameters": {
        "options": {},
        "responseMode": "responseNode",
        "responseData": "allEntries"
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [650, 300]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}